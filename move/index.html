<!DOCTYPE html>
<!-- FreeCell using svg for the cards and movement rather than children -->
<html lang=en>
<head>
  <link rel="icon" type="image/png" href="jc.png"/>
	<link rel="manifest" href="/manifest.json">
	<link rel="apple-touch-icon" href="jc192.png">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <meta name="theme-color" content="green"/>
  <meta name="description" content="One-Click Freecell Game by John Coonrod"/>
	<title>SVG Cards</title>
  <link rel='shortcut icon' href='/jc.png'>
  <style>
    body {background:green;padding:0;margin:0;font-family:sans-serif;font-weight:bold;}
    p, p>a {color:white;}
    div.r {font-size:14vw; color:red; background:white;}
    div.b {font-size:14vw; background:white;}
  </style>
</head>
  
<body>
<header>
Test Deal with motion 0.1 <button onclick="shuffle(); startGame()">New Game</button>
</header>
<script>
  cards = []; // array of card div svg objects
  deck = []; // sort order for the cards
  freecells = [-1,-1,-1,-1]; // holds the cardNo if filled
  nopen = 0; // computed # open freecells
  nempty = 0; // computed # empty columns
  aces = [-1,-1,-1,-1]; // holds the card value if filled
  suits = ["&spadesuit;","&heartsuit;","&diamondsuit;","&clubsuit;"];
  faces = ["&#x1F482","&#x1F478;","&#x1F934;"]; // emojis for facecards
  vals = ['A','2','3','4','5','6','7','8','9','10','J','Q','K'];
  var nodes; // this gets defined by stackable
  var first; // index within the nodes for the first that could be moved
  var last; // " the top card
  createCards();

// a function to shuffle the deck;
  function shuffle(){
    for(i=0; i<100; i++) { // do 100 random interchanges
      j=Math.floor(52*Math.random());
      k=Math.floor(52*Math.random());
      m=deck[j]; deck[j]=deck[k]; deck[k]=m;
    }
  }
// a function to deal the deck into absolute positions
  function deal(){
  
  }
					
    
  function startGame(){
    deal();
  }
  function createCards(){
    for (n=0;n<52;n++) { // create 52 svg cards as strings in this array - innerHTML for divs
      deck[n]=n; // start out without a shuffle
			var suit=Math.floor(n/13);
			var f=''; if(suit==1 || suit==2) f=' fill="red"'; // optionally paint the red suits red
			var val = n % 13;
			var ctr = (val<10) ? suits[suit] : faces[val-10];
			cards[n]='<svg viewBox="0 0 200 280">'
      + '<rect x="2" y="2" rx="20" ry="20" width="194" height="274" style="fill:white;stroke:black;stroke-width:4;" />'
      + '<text font-size="120" x="97" y="137" text-anchor="middle" alignment-baseline="central"'+f+'>'
      + ctr+'</text>'
      + '<text x="15" y="45" font-size="45"'+f+'>'+vals[val]+'</text>'
      + '<text x="145" y="50" font-size="45"'+f+'>'+suits[suit]+'</text>'
      + '</svg>';
		}
	}
</script>
</body>
</html>
